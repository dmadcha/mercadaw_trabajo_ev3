@startuml bbdd
allow_mixing
set separator none
top to bottom direction
    package model.bbdd{
        enum Database{
            ORACLE XE, MOCK
        }

        interface MercaDAO{
        + crearTablas()

        + insertar(Empleado empleado)
        + insertar(Producto producto)
        + insertar(Compra compra)
        + insertar(Cliente cliente)

        + actualizar(Empleado empleado)
        + actualizar(Producto producto)
        
        + borrar(Empleado empleado)
        + borrar(Producto producto)
        
        + visualizarProducto():Producto
        + visualizarProductos():List<Producto>
        + visualizarClientes():List<Cliente>
        + visualizarEmpleados():List<Empleado>
        + visualizarCompras():List<Compra>
        + visualizarStock():Map<Producto producto, int numero>
        }

        class MercadoDBFactory{
            {static} obtener(d:Database): MercaDAO
        }

        abstract MercaDAOImp {
            - {abstract} connection: Connection            
        }

        class MercaDAOImpMock{

        }

        class MercaDAOImpOracleXE{
            
        }
           
    }

    component org.oracle.database.jdbc <<JDBC driver>>

    MercaDAOImpOracleXE ..> org.oracle.database.jdbc
    MercaDAOImp <|-- MercaDAOImpOracleXE
    MercaDAOImp..|> MercaDAO
    MercaDAOImpMock..|> MercaDAO 
    
@enduml